import {useEffect,useState} from 'react';import {useParams} from 'react-router-dom';import Layout from '../components/Layout';export default ()=>{const {id}=useParams();const [n,setN]=useState(null);useEffect(()=>{fetch('/api/news/'+id).then(r=>r.json()).then(d=>setN(d.item))},[id]);async function save(e){e.preventDefault();const pwd=localStorage.getItem('bn_pwd')||'';await fetch('/api/news/'+id,{method:'PUT',headers:{'Content-Type':'application/json','x-admin-password':pwd},body:JSON.stringify(n)});alert('Atualizado');}if(!n)return <Layout>Carregando...</Layout>;return <Layout><h2>Editar</h2><form onSubmit={save}><input value={n.title} onChange={e=>setN({...n,title:e.target.value})}/><br/><textarea rows='10' value={n.body} onChange={e=>setN({...n,body:e.target.value})}/><br/><button>Salvar</button></form></Layout>};