import {useState} from 'react';import Layout from '../components/Layout';export default ()=>{const [t,setT]=useState('');const [b,setB]=useState('');const [c,setC]=useState('');async function go(e){e.preventDefault();const pwd=localStorage.getItem('bn_pwd')||'';const r=await fetch('/api/news',{method:'POST',headers:{'Content-Type':'application/json','x-admin-password':pwd},body:JSON.stringify({title:t,body:b,cover:c})});if(r.ok)location.href='/noticias';else alert('Erro ao publicar');}return <Layout><h2>Publicar</h2><form onSubmit={go}><input placeholder='TÃ­tulo' value={t} onChange={e=>setT(e.target.value)}/><br/><input placeholder='URL da capa' value={c} onChange={e=>setC(e.target.value)}/><br/><textarea rows='8' placeholder='Texto' value={b} onChange={e=>setB(e.target.value)}/><br/><button>Salvar</button></form></Layout>};